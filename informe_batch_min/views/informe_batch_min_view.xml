<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="informe_batchmin_tree_view" model="ir.ui.view">
        <field name="name">informe.batchmin.tree.view</field>
        <field name="model">informe.batchmin</field>
        <field name="arch" type='xml'>
            <tree>
                <field name="name"/>
                <field name="ultima_actualizacion"/>
            </tree>
        </field>
    </record>

    <record id="informe_batchmin_form_view" model="ir.ui.view">
        <field name="name">informe.batchmin.form.view</field>
        <field name="model">informe.batchmin</field>
        <field name="arch" type='xml'>
            <form>
                <header>
                    <button string="Calculate" type="object" name="calcular" class="oe_highlight"/>
                    <button string="Create Manufacturing Order" type="object" name="create_orderP" class="oe_highlight"/>
                </header>
                <sheet>
                    <h1><field name="name"/></h1>
                    <group>
                        <group>
                            <field name="categ_id" required="1"/>
                        </group>
                        <group>
                            <field name="ultima_actualizacion" readonly="1"/>
                        </group>
                    </group>
                    <field name="detalle_ids">
                        <tree create="false" delete="false">
                            <field name="default_code" readonly="1"/>
                            <field name="product_id" readonly="1"/>
                            <field name="product_qty" readonly="1"/>
                            <field name="cantidad_reservada" readonly="1"/>
                            <field name="batch_minimo" readonly="1"/>
                            <field name="cantidad_real" readonly="1"/>
                            <field name="diferencia" readonly="1"/>
                            <field name="n_batch" readonly="1"/>
                            <field name="ready" widget="boolean_toggle"/>
                        </tree>
                        <form>
                            <group>
                                <group>
                                     <field name="product_id" readonly="1" options="{'no_open': True, 'no_create': True}"/>
                                     <field name="product_name"/>
                                    <field name="n_batch" readonly="1"/>
                                     <field name="ready" widget="boolean_toggle"/>
                                </group>
                                <group>
                                    <field name="product_qty" readonly="1"/>
                                    <field name="cantidad_reservada" readonly="1"/>
                                    <field name="batch_minimo" readonly="1"/>
                                    <field name="cantidad_real" readonly="1"/>
                                    <field name="diferencia" readonly="1"/>
                                </group>
                            </group>
                        </form>
                    </field>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    <record id="action_view_batchmin" model="ir.actions.act_window">
        <field name="name">Informe batch</field>
        <field name="res_model">informe.batchmin</field>
        <field name="view_mode">tree,form</field>
      </record>

      <menuitem id="informe_batchmin" name="Informe Batch" parent="mrp.menu_mrp_reporting" action="action_view_batchmin"/>

</odoo>